---
{"dg-publish":true,"permalink":"/modulos-y-lecciones/12-6-obsidian-y-anki-anki-macrocurso/","noteIcon":"","updated":"2024-05-15T22:20:31.898+02:00"}
---


> [[M√≥dulos y lecciones/M√ìDULO 12 - Integraci√≥n de Anki con otras apps - Anki Macrocurso\|M√ìDULO 12 - Integraci√≥n de Anki con otras apps - Anki Macrocurso]]

> [[M√≥dulos y lecciones/12.5 - üìπ Remmnote a Anki\|‚óÅ Lecci√≥n anterior]] | [[M√≥dulos y lecciones/12.7 - üìπ Word y Anki\|Pr√≥xima lecci√≥n ‚ñ∑]]

---

# Intro
- Posibles m√©todos
	- Obsidia_to_Anki (el que usaremos)
	- anki sync+
	- [Obsankipy](https://www.reddit.com/r/ObsidianMD/comments/186wmhu/obsankipy_a_new_way_to_sync_your_obsidian_notes/) 
	- Sync to Obsidian (Fixed by Shige)

Crear√© una b√≥veda nueva en Obsidian para que no me d√© ning√∫n tipo de problema, porque en mi b√≥veda principal se me crashea y congela la b√≥veda por el addon.

# Obsidian_to_Anki (Export to Anki)
## Instalaci√≥n de los complementos
Con el complemento de Obsidian "Export to Anki", anteriormente llamado "Obsidian_to_Anki", conseguiremos exportar fragmentos de texto dentro de una nota de obsidian que posean el c√≥digo espec√≠fico que sirva como detonante para que dichos fragmentos de texto se exporten a Anki. La idea con este complemento ser√≠a el poder crear tarjetas m√°s r√°pidamente y, adem√°s, tener la opci√≥n de pulsar un bot√≥n que nos abra la nota espec√≠fica de Obsidian cuando estemos repasando una tarjeta, para poder ver su informaci√≥n contextual.

Para instalar Export to Anki: Ajustes > Plugins de terceros > Buscar > Export to Anki

El intermediario entre Obsidian y Anki, es decir, la parte necesaria para poder sincronizar Obsidian con Anki es instalar un complemento de Anki llamado [AnkiConnect](https://ankiweb.net/shared/info/2055492159). 

## Configurar AnkiConnect con el plugin de Obsidian
En Anki, ve a Herramientas >Conmplementos >AnkiConnect > Configuraci√≥n, y c√°mbialo para que se vea as√≠:

```
{
    "apiKey": null,
    "apiLogPath": null,
    "webBindAddress": "127.0.0.1",
    "webBindPort": 8765,
    "webCorsOrigin": "http://localhost",
    "webCorsOriginList": [
        "http://localhost",
        "app://obsidian.md"
    ]
}
```

Tras hacer esto, reiniciamos tanto Anki como Obsidian para asegurarnos que no haya ning√∫n tipo de problema. De paso, tras reiniciarlo, os explico que existe ahora un nuevo icono en nuestro men√∫ izquierdo referente a este plugin, con funci√≥n de escanear nuestra b√≥veda para poder enviar las tarjetas de Obsidian a Anki.

![Pasted image 20240513180309.png|37](/img/user/ANEXOS/Pasted%20image%2020240513180309.png)

De paso, comentar que tras reiniciar Obsidian la configuraci√≥n de este complemento ya est√° disponible. Ajustes > Obsidian_to_Anki. Aqu√≠ vemos la nomenclatura y opciones a modificar.

## Configuraci√≥n del plugin en Obsidian
En la configuraci√≥n del complemento, vemos la secci√≥n "**Note type settings**", que nos muestra los tipos de notas que tenemos en nuestro perfil activo de Anki, es formato tabla. Estos tipos de nota tendr√°n que escribirse de manera literal, as√≠ como sus campos, en la nota de Obsidian que usaremos como recipiente de nuestras futuras tarjetas. Si tu tipo de nota tiene un acento, como en la palabra B√°sico, debes ponerlo en el texto de Obsidian. Cada vez que cambi√©is de perfil en Anki, tendr√©is que regenerar de nuevo la tabla para que se actualicen los tipos de notas (Actions > Regenerate Note Type Table). Aunque esto depender√° del estilo que escojamos para crear nuestras tarjetas, pero yo por si acaso aviso.

En la secci√≥n "**Folder settings**" encontraremos todas las carpetas de nuestra b√≥veda de Obsidian y, adem√°s, podremos configurarlas de tal manera que cada carpeta de Obsidian en el que exista la nota de Obsidian creadora de tarjetas se vaya directamente a un mazo predeterminado de Anki, as√≠ como la creaci√≥n de su tarjeta predeterminada.  ==(usar la [b√≥veda que comparti√≥ Luis Letona](obsidian://open?vault=Demo%20Obsidian%20to%20Anki&file=%F0%9F%A7%A0%20Taller%20Obsidian%20to%20Anki) para ejemplificarlo esto mejor)==. [Ejemplo en v√≠deo de c√≥mo Luis Letona lo explic√≥](https://youtu.be/5xsP6H3yiU8?t=2878).

- Borrar la nota de arriba cuando el obsidian publsih (@2024-05-14)

En la secci√≥n **Syntax Settings** es donde encontramos la nomenclatura y sintaxis espec√≠fica que tendremos que poner en nuestra nota de Obsidian para que ese intermediario que hemos instalado, AnkiConnect, sepa qu√© partes de texto tiene que coger y qu√© debe hacer con ellas.

De manera predeterminada est√°n rellenados as√≠ estos campos:

- START: 
- END: 
- STARTI: 
- ENDI: 
- TARGET DECK: mazo de Anki de destino.
- FILE TAGS: 
- DELETE: borrar una nota en Anki desde Obsidian.
- FROZEN: campos congelados.

Pero yo recomiendo este estilo m√°s abreviado:

![Pasted image 20240513180457.png|500](/img/user/ANEXOS/Pasted%20image%2020240513180457.png)

En la secci√≥n de **Defaults**, encontramos:

- Tag - la etiqueta que van a poseer todas las tarjetas creadas desde Obsidian con el respecto complemento.
- Deck - el mazo por defecto en el que van todas las tarjetas producidas por este script. Sobreescrito por TARGET DECK, es decir, si nosotros en TARGET DECK no hemos especificado a d√≥nde ir√°n dichas tarjetas, ir√°n a este mazo predeterminado para ello.
- CurlyCloze - solo se debe activar cuando se creen tarjetas con respuesta anidada.
- GUI - le permite activar/desactivar la GUI del script
- ID Comments - Alterna si los IDs de las tarjetas se envuelven o no en un comentario HTML
- Add file link: as√≠ cada tarjeta creada desde Obsidian tendr√° un enlace a la secci√≥n de la nota donde se encuentra dicho c√≥digo con el que se cre√≥. M√°s adelante veremos que as√≠ podemos clicar en un bot√≥n dentro de dicha tarjeta y que se nos abra obsidian con la correspondiente nota.

## Creaci√≥n de flashcars y estilos
### Intro
Vamos a crear una nota en Obsidian para que sirva como recipiente del texto que ser√° usado para crear flascards en Anki. Por ejemplo, [[Obsidian_Anki - Tarjetas - Estilo Neuracache\|Obsidian_Anki - Tarjetas - Estilo Neuracache]].

Existen varios estilos con su sintaxis propia.

- Estilo Predeterminado
- Estilo RemNote
	- Sintaxis (regex) ‚ñ∫ https://github.com/Pseudonium/Obsidian_to_Anki/wiki/RemNote-single-line-style
	- La ventaja es que usa el m√≠nimo de caracteres instrusivos, solo usa doble dos puntos para separar pregunta y respuesta (similar a la forma como se usa en la app RemNote), lo cual lo hace pr√°ctico. La desventaja es que no permite hacer multil√≠nea (a menos que se use un c√≥digo html "br" como separador de l√≠neas, ello lo vuelve menos pr√°ctico). Otro problema mayor, es que traer√≠a un conflicto con algunos plugins que usan los doble dos puntos para sus funcionalidades: Por ejemplo, el plugin Dataview, en el caso de usar campos inline, o con el plugin ExcaliBrain. Recomendaci√≥n: usar ``:::`` en lugar de ``::`` para evitar los problemas de incompatibilidad de los campos al usar OTA (se usa para los metadatos en las notas de Obsidian)
- Estilo Neuracache
	- Sintaxis (regex) ‚ñ∫ https://github.com/Pseudonium/Obsidian_to_Anki/wiki/Neuracache-flashcard-style
	- La ventaja es que siempre hace uso de una etiqueta (#flashcard, pero puede modificarse) que tambi√©n ayuda en la b√∫squeda de esa misma flashcard dentro de Obsidian. Otra ventaja es que permite multil√≠nea, (varias filas de respuestas) y no trae conflicto con el uso de plugins como Dataview. La desventaja es que la etiqueta que elijas para este estilo ya no podr√°s usarla para otra cosa que no sea la creaci√≥n de flashcards.
- Estilo Cloze Paragraph con habilitaci√≥n de CurlyCloze
	- Sintaxis (regex) ‚ñ∫ https://github.com/Pseudonium/Obsidian_to_Anki/wiki/Cloze-Paragraph-style
	- La ventaja, a diferencia de los otros estilos, es que puedes crear varias flashcards casi al mismo tiempo y dentro de su contexto. Es lo que llamamos "oraciones incompletas". Activar CurlyCloze lo hace m√°s pr√°ctico, pues nos permitir√° usar solo llaves ({}) para crear los clozes. La desventaja es que ya nunca m√°s deber√°s usar las llaves para otra cosa que no sea la creaci√≥n de flashcards tipo cloze. 
- Estilo "Callout"
	- Sintaxis (regex) ‚ñ∫ https://github.com/Pseudonium/Obsidian_to_Anki/issues/332
	- La ventaja es el uso de los callouts como herramientas de active recall coloridos (es el estilo con mejor resultado est√©tico) mediante el uso de su contenido colapsable, plegable o "foldable" (es m√°s interactivo). Otra ventaja es que permite multil√≠nea, (varias filas de respuestas). Una peque√±a desventaja es que se tiene que escribir un poco de c√≥digo (> [!anki]-) para activar este estilo, pero es m√≠nimo.
	- Uso del plugin Multi-Column Markdown para separar en columnas
- Observaciones:
	- Los estilos Neuracache y Callout pueden usarse con varios tipos de flashcards (con dos campos) si se modifica una parte de su sintaxis. El estilo RemNote te√≥ricamente puede hacerlo tambi√©n, pero modificar su sintaxis puede resultar m√°s limitado. 
	- El estilo cloze admite los tipos de flashcards solo de este tipo o sus variantes, siempre que tengan la palabra "cloze" en el nombre del tipo de flashcard
	- ¬øConflicto con otros plugins? Se reporta que, sea el estilo que se use, puede colgarse o demorarse mucho la sincronizaci√≥n si se usa el plugin Excalidraw, por lo que no recomiendo su uso junto con Obsidian to Anki ‚ñ∫ https://github.com/Pseudonium/Obsidian_to_Anki/issues/350. Por deducci√≥n, ya no se recomendar√≠a el uso de plugins que hacen uso de Excalidraw como Excalibrain.


### Estilo Neuracache
**El estilo Neuracache es que usaremos por su simpleza y naturalidad**. Para ello, nos iremos a [esta p√°gina](https://github.com/ObsidianToAnki/Obsidian_to_Anki/wiki/Neuracache-flashcard-style) y copiaremos el siguiente c√≥digo en la secci√≥n Custom Regexp del tipo de nota b√°sico:

`((?:[^\n][\n]?)+) #flashcard ?\n*((?:\n(?:^.{1,3}$|^.{4}(?<!<!--).*))+)`

Cabe destacar que si quieres poner otro tipo de etiqueta en vez de `#flashcard`, solo que en la tabla con los tipos de notas del complemento lo debes reflejar as√≠. Lo ideal ser√≠a poner subetiquetas a esta etiqueta madre para diferenciar entre tipos de nota, por ejemplo:  `flashcard/basica` o `flashcard/reversa`.

Ahora conseguiremos crear **tarjetas b√°sicas** y **tarjetas b√°sicas con respuesta invertida** con este formato:

```
Pregunta 1 #flashcard/basico
Respuesta 1

Pregunta 2 #flashcard/reversa
Respuesta 2
```

Sincronizamos Obsidian con Anki (icono) y ya estar√≠a.

Para el **tipo de nota respuesta anidada o cloze** debemos copiar el c√≥digo `((?:.+\n)*(?:.*{.*)(?:\n(?:^.{1,3}$|^.{4}(?<!<!--).*))*)` y metemos dicho fragmento de c√≥digo en la tabla de tipos de nota. Recordad ahora activar la funci√≥n de CurlyCloze para que lea las respuestas anidadas. Con una llave `{}` ahora creamos el hueco.

Por ejemplo:

```
Texto tipo respuesta {anidada}
```

==(Por si no me funciona poner [este v√≠deo](https://youtu.be/5xsP6H3yiU8?t=4182) como ejemplo de lo que tendr√≠a que pasar)==

Podemos crear tarjetas desde nuestras notas con texto a estudiar tarjetas Anki rompiendo un poco la estructura de dicha nota. https://youtu.be/UjrH4-z7qXY?t=1564

### Estilo Callout
Regex line:¬†`(?:\> \[!anki\]-) ([^\n]+)\n(.+(?:\n(?:^.{1,3}$|^.{4}(?<!<!--).*))*)`

Se pone en el tipo de nota que queramos. Luego, escribimos: 

```
> [!anki]  - Pregunta con callout
> Respuesta
```


### Estilo Predeterminado
https://youtu.be/UjrH4-z7qXY?t=504

Simplemente escribiendo START y END ya hacemos las tarjetas.

Para saber si las tarjetas se han creado en Anki, veremos el identificador antes del activador END.

### Mazos y etiquetas
Si en el YAML de nuestra nota de Obsidian escribimos los metadatos `DECK` y `TAGS` conseguiremos elegir el mazo y las etiquetas de las tarjeta de dicha nota de Obsidian. Recordad a√±adir `::` si quer√©is submazos o subetiquetas. Sobre todo para el estilo NeuraCache.

```
DECK:
TAGS: 
```

## Usar Dataview para ver las etiquetas
````

{ .block-language-dataview}
````



# Ankiweb, Custom Frames, Quick Add y Power Search
https://youtu.be/5xsP6H3yiU8?t=6203

Para atajos de teclado para crear nuestras tarjetas m√°s r√°pidamente y buscar con power search nuestras flashcards.

- Uso de Ankiweb dentro de Obsidian
	- Crear un acceso directo con Custom Frames
	- Colocar en la cabecera del t√≠tulo con Customizable Page Header and Title Bar
- Uso de Ankiweb dentro de Obsidian con Quick Add
	- Colocar Quick Add en la cabecera del t√≠tulo con Customizable Page Header and Title Bar
	- Acceso directo de Ankiweb con Quick Add
		- ‚≠ê Abrir Ankiweb
			- Macro Ankiweb
				- ![Pasted image 20220814110651.png](/img/user/ANEXOS/Pasted%20image%2020220814110651.png)
				- Comandos
					- Dividir verticalmente
					- Custom Frames: Open Ankiweb
- Creaci√≥n de flashcards con Quick Add
	- Creaci√≥n de flashcards para estilo Callout
		- üé¥ Crear flashcard 
			- Macro Crear flashhcard en Anki
				- ![Pasted image 20220814104932.png|450](/img/user/ANEXOS/Pasted%20image%2020220814104932.png)
				- Crear pregunta (captura)
					- ![Pasted image 20220814105014.png|497](/img/user/ANEXOS/Pasted%20image%2020220814105014.png)
					- Formato: > [!anki]- {{VALUE}}
				- Crear respuesta (captura)
					- ![Pasted image 20220814105236.png|496](/img/user/ANEXOS/Pasted%20image%2020220814105236.png)
					- Formato: (un salto de l√≠nea) {{VALUE}} (un salto de l√≠nea)
		- üóëÔ∏è Eliminar flashcard de Anki
			- Macro Eliminar flashcard de Anki
				- ![Pasted image 20220814105827.png|457](/img/user/ANEXOS/Pasted%20image%2020220814105827.png)
				- Eliminar flashcard (captura)
					- ![Pasted image 20220814105901.png|490](/img/user/ANEXOS/Pasted%20image%2020220814105901.png)
					- Formato: (dos saltos de l√≠nea) DELETE
- B√∫squeda de flashcards dentro de Obsidian con Power Search
	- Visualizaci√≥n en la barra lateral



---

> [[M√≥dulos y lecciones/12.5 - üìπ Remmnote a Anki\|‚óÅ Lecci√≥n anterior]] | [[M√≥dulos y lecciones/12.7 - üìπ Word y Anki\|Pr√≥xima lecci√≥n ‚ñ∑]]

> [[M√≥dulos y lecciones/M√ìDULO 12 - Integraci√≥n de Anki con otras apps - Anki Macrocurso\|M√ìDULO 12 - Integraci√≥n de Anki con otras apps - Anki Macrocurso]]

---

# Recursos
- Bibliograf√≠a
	- [Taller Obsidian to Anki - Luis Letona](https://www.youtube.com/watch?v=5xsP6H3yiU8&ab_channel=Letomed)
- [AnkiConnect - AnkiWeb](https://ankiweb.net/shared/info/2055492159)
- [Clean Anki flashcards you can flip in Obsidian! CSS + Obsidian to Anki + Admonition plugin](https://www.reddit.com/r/ObsidianMD/comments/xjmf7i/clean_anki_flashcards_you_can_flip_in_obsidian/) y https://github.com/jeffchiou/obsidiflip